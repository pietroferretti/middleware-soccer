\hypertarget{possession_8h}{}\section{include/possession.h File Reference}
\label{possession_8h}\index{include/possession.\+h@{include/possession.\+h}}


\mbox{\hyperlink{possession_8c}{possession.\+c}} function declaration.  


This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=198pt]{possession_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{possession_8h_ab34276d7ffa28da384e2668dcc08b6cd}{possession\+\_\+run}} (M\+P\+I\+\_\+\+Datatype mpi\+\_\+possession\+\_\+envelope, M\+P\+I\+\_\+\+Datatype mpi\+\_\+output\+\_\+envelope, unsigned long K)
\begin{DoxyCompactList}\small\item\em Starts the possession process, which computes ball possessions given the player positions. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{possession_8c}{possession.\+c}} function declaration. 



\subsection{Function Documentation}
\mbox{\Hypertarget{possession_8h_ab34276d7ffa28da384e2668dcc08b6cd}\label{possession_8h_ab34276d7ffa28da384e2668dcc08b6cd}} 
\index{possession.\+h@{possession.\+h}!possession\+\_\+run@{possession\+\_\+run}}
\index{possession\+\_\+run@{possession\+\_\+run}!possession.\+h@{possession.\+h}}
\subsubsection{\texorpdfstring{possession\+\_\+run()}{possession\_run()}}
{\footnotesize\ttfamily void possession\+\_\+run (\begin{DoxyParamCaption}\item[{M\+P\+I\+\_\+\+Datatype}]{mpi\+\_\+possession\+\_\+envelope,  }\item[{M\+P\+I\+\_\+\+Datatype}]{mpi\+\_\+output\+\_\+envelope,  }\item[{unsigned long}]{K }\end{DoxyParamCaption})}



Starts the possession process, which computes ball possessions given the player positions. 

It keeps waiting for P\+O\+S\+I\+T\+I\+O\+N\+S\+\_\+\+M\+E\+S\+S\+A\+GE containing players or ball position updates, until receiving the E\+N\+D\+O\+F\+G\+A\+M\+E\+\_\+\+M\+E\+S\+S\+A\+GE or an unknown tag message causing the process to abort.

After receiving a P\+O\+S\+I\+T\+I\+O\+N\+S\+\_\+\+M\+E\+S\+S\+A\+GE, it recomputes ball possession\+: a player is considered in possession of the ball when
\begin{DoxyItemize}
\item He is the player closest to the ball
\item He is not farther than K millimeters from the ball. Then it sends an to the \mbox{\hyperlink{output_8c}{output.\+c}} process, which will use it to compute and print the game statistics.
\end{DoxyItemize}

After receiving a E\+N\+D\+O\+F\+G\+A\+M\+E\+\_\+\+M\+E\+S\+S\+A\+GE, it waits for the sending queue to clear out and abort.


\begin{DoxyParams}{Parameters}
{\em mpi\+\_\+possession\+\_\+envelope} & mpi\+\_\+datatype of received message from \mbox{\hyperlink{parser_8h_a6b4f69b75cefd464a448d7dbf87576fa}{parser\+\_\+run}} process, with tag P\+O\+S\+I\+T\+I\+O\+N\+S\+\_\+\+M\+E\+S\+S\+A\+GE or E\+N\+D\+O\+F\+G\+A\+M\+E\+\_\+\+M\+E\+S\+S\+A\+GE. \\
\hline
{\em mpi\+\_\+output\+\_\+envelope} & mpi\+\_\+datatype of sent messages to output process. \\
\hline
{\em K} & Maximum distance between ball and player\+: if distance between each player and the ball is greater than k then no one has ball possession. K is in millimeters and ranges from 1000 to 5000. \\
\hline
\end{DoxyParams}


Definition at line 57 of file possession.\+c.

